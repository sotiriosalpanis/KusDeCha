(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(33),n=a.n(s),r=(a(40),a(7)),i=a(8),l=a(2),o=a.n(l),j=a(5),u=a(3),b=a(4),d=a(6),O=a.n(d),p=a(0),m=function(e){var t=e.thumbnail,a=e.size,s=e.disabled,n=Object(c.useState)(null),r=Object(u.a)(n,2),i=r[0],l=r[1];if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(t.url);case 2:a=e.sent,c=a.data,l(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!i)return null;var b=i["@id"],d=i.sizes[a].height,m=i.sizes[a].width,h=i.profile[1].formats,x="".concat(b,"/full/").concat(m,",").concat(d,"/0/default.").concat(h);return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-image",children:s?Object(p.jsx)("img",{src:x,className:"selected-object preview"}):Object(p.jsx)("img",{src:x,className:"preview"})})})},h=function(e){var t=e.searchTerm,a=Object(c.useState)(null),s=Object(u.a)(a,2),n=s[0],i=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat("https://api.wellcomecollection.org/catalogue/v2/","images?pageSize=5&page=1&query=").concat(t,"/"));case 2:a=e.sent,c=a.data,i(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),n?Object(p.jsxs)("div",{className:"box search-preview",children:[Object(p.jsxs)("h4",{className:"subtitle is-3",children:["Preview results for ",t]}),Object(p.jsx)("div",{className:"columns is-multiline",children:n.results.map((function(e){return Object(p.jsx)("div",{className:"column",children:Object(p.jsx)(m,Object(b.a)(Object(b.a)({},e),{},{size:2}))},e.id)}))}),Object(p.jsx)(r.b,{to:"/search#".concat(t),children:"See full results here"})]}):null},x=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(u.a)(n,2),i=r[0],l=r[1],o=Object(c.useState)(null),j=Object(u.a)(o,2),b=j[0],d=j[1],O=Object(c.useState)(!1),m=Object(u.a)(O,2),x=m[0],f=m[1],v=function(e){s(e.target.value),e.target.value||l(!1)};return Object(c.useEffect)((function(){l(a),d("is-active")}),[a]),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("form",{className:"is-quarter",children:Object(p.jsx)("input",{className:x?"input":"search-bar input",value:a,onChange:v,onMouseEnter:function(){f(!1)},onMouseLeave:function(){f(!0)},placeholder:"Enter search term to find more images..."})}),i?Object(p.jsxs)("div",{className:"modal ".concat(b),children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsxs)("div",{className:"modal-card",children:[Object(p.jsx)("input",{className:"input",value:a,onChange:v}),Object(p.jsx)(h,{className:"box",searchTerm:i})]}),Object(p.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){d(null)}})]}):Object(p.jsx)("p",{})]})})},f=function(){return window.localStorage.getItem("token")},v=function(){var e=f();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},g=function(e){var t=v();return!!t&&e===t.sub},N=function(){var e=v();return!!e&&Math.round(Date.now()/1e3)<e.exp},k=f,w=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),l=Object(u.a)(n,2),b=l[0],d=l[1],m=Object(i.f)(),h=Object(i.g)();return Object(c.useEffect)((function(){}),[h.pathname]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/institutions/");case 2:t=e.sent,a=t.data,s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(p.jsx)("nav",{className:"navbar is-transparent is-fixed-top",role:"navigation",children:Object(p.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(p.jsx)("div",{className:"navbar-start",children:b?Object(p.jsxs)("div",{className:"navbar-item has-dropdown is-active",onMouseLeave:function(){return d(!1)},children:[Object(p.jsx)(r.b,{className:"navbar-link",to:"/explore",children:"Explore"}),Object(p.jsx)("div",{className:"navbar-dropdown",children:a.map((function(e){return Object(p.jsx)(r.b,{className:"navbar-item",to:"/explore/".concat(e.institution_name.replace(" ","")),children:e.institution_name},e.id)}))})]}):Object(p.jsxs)("div",{className:"navbar-item has-dropdown",onMouseEnter:function(){return d(!0)},children:[Object(p.jsx)(r.b,{className:"navbar-link",to:"/explore",children:"Explore"}),Object(p.jsx)("div",{className:"navbar-dropdown",children:a.map((function(e){return Object(p.jsx)(r.b,{className:"navbar-item",to:"/explore/".concat(e.institution_name.replace(" ","")),children:e.institution_name},e.id)}))})]})}),Object(p.jsxs)("div",{className:"navbar-end",children:[Object(p.jsx)("div",{className:"navbar-item",children:Object(p.jsx)(x,{})}),Object(p.jsx)("div",{children:Object(p.jsx)(r.b,{className:"navbar-item",to:"/scrapbooks",children:"Scrapbooks"})}),!N()&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(r.b,{className:"navbar-item",to:"/login",children:"Login"})}),Object(p.jsx)("div",{children:Object(p.jsx)(r.b,{className:"navbar-item",to:"/register",children:"Register"})})]}),N()&&Object(p.jsx)("div",{children:Object(p.jsx)(r.b,{to:"/explore",onClick:function(){window.localStorage.removeItem("token"),m.push("/")},className:"navbar-item",children:"Log out"})})]})]})}):null},S=function(e){var t=e.props;return Object(p.jsx)("section",{className:"hero hero-image is-halfheight",children:Object(p.jsxs)("div",{className:"hero-body",children:[Object(p.jsx)("h2",{className:"title is-2",children:t.institution_name}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{className:"title is-3",children:t.description})]})})};var _=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/institutions/");case 2:t=e.sent,a=t.data,s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(p.jsxs)("div",{className:"section home",children:[Object(p.jsx)("div",{className:"level explore-page is-vcentered",children:a&&Object(p.jsx)("div",{className:"column is-three-fifths is-offset-one-fifth",children:a.map((function(e){return Object(p.jsx)(r.b,{to:"/explore/".concat(e.institution_name.replace(" ","")),children:Object(p.jsx)(S,{props:e})},e.id)}))})}),Object(p.jsxs)("div",{className:"background",children:[Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{})]})]})},y=a(15),C=a(9),z=function(e){var t=e.thumbnail,a=e.size,s=e.disabled,n=Object(c.useState)(null),r=Object(u.a)(n,2),i=r[0],l=r[1];if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(t.url);case 2:a=e.sent,c=a.data,l(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!i)return null;var b=i["@id"],d=i.sizes[a].height,m=i.sizes[a].width,h=i.profile[1].formats,x="".concat(b,"/full/").concat(m,",").concat(d,"/0/default.").concat(h);return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-image",children:s?Object(p.jsx)("img",{src:x,className:"selected-object preview"}):Object(p.jsx)("img",{src:x,className:"preview"})})})},E=function(){var e="https://api.wellcomecollection.org/catalogue/v2/",t=Object(i.f)(),a=Object(c.useState)(null),s=Object(u.a)(a,2),n=s[0],l=s[1],d=Object(c.useState)(1),m=Object(u.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(50),v=Object(u.a)(f,2),g=v[0],N=v[1],w=Object(c.useState)(""),S=Object(u.a)(w,2),_=S[0],E=S[1],B=Object(c.useState)(null),A=Object(u.a)(B,2),q=A[0],D=A[1],P=Object(c.useState)([]),F=Object(u.a)(P,2),I=F[0],M=F[1],R=Object(c.useState)({}),L=Object(u.a)(R,2),T=L[0],U=L[1],V=Object(c.useState)(null),J=Object(u.a)(V,2),X=J[0],Y=J[1],Z=Object(c.useState)({}),G=Object(u.a)(Z,2),W=G[0],H=G[1],K=Object(c.useState)(!1),Q=Object(u.a)(K,2),$=Q[0],ee=Q[1];Object(c.useEffect)((function(){(function(){var t=Object(j.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(e,"images?pageSize=").concat(g,"&page=").concat(h));case 2:a=t.sent,c=a.data,l(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[h,g]),Object(c.useEffect)((function(){(function(){var t=Object(j.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat(e,"images?pageSize=").concat(g,"&page=").concat(h,"&query=").concat(_));case 2:a=t.sent,c=a.data,D(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[_,h,g]);var te=function(e){var t,a=n.results[e.target.value],c={origin_institution:1,digital_image_id:a.source.id,catalogue_image_id:a.id,catalogue_title:a.source.title,work_type:a.source.type,iiif_manifest:a.thumbnail.url,tags:[]};a.disabled?(t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!1)),n.results[e.target.value]=t):(U(Object(b.a)({},c)),t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!0))),n.results[e.target.value]=t,ee(!$)},ae=function(e){var t,a=q.results[e.target.value],c={origin_institution:1,digital_image_id:a.source.id,catalogue_image_id:a.id,catalogue_title:a.source.title,work_type:a.source.type,iiif_manifest:a.thumbnail.url,tags:[]};a.disabled?(t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!1)),n.results[e.target.value]=t):(U(Object(b.a)({},c)),t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!0))),q.results[e.target.value]=t,ee(!$)};Object(c.useEffect)(Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/images/",T,{headers:{Authorization:"Bearer ".concat(k())}});case 3:t=e.sent,a=t.data,M([].concat(Object(y.a)(I),[a.id])),console.log(I),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.request);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[T]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/scrapbooks/");case 2:t=e.sent,a=t.data,Y(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var ce=function(){var e=Object(j.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,O.a.put("/api/scrapbooks/".concat(W.id,"/"),W,{headers:{Authorization:"Bearer ".concat(k())}});case 4:c=e.sent,console.log("Success",c),t.push("/scrapbooks/".concat(c.data.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Scrapbook error",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(p.jsx)("div",{className:"section institution",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"box sticky-header",children:[Object(p.jsxs)("nav",{className:"pagination is-right",role:"navigation","aria-label":"pagination",children:[Object(p.jsx)("a",{className:"pagination-next",onClick:function(){x(h+1)},children:"+"}),Object(p.jsx)("ul",{className:"pagination-list",children:Object(p.jsx)("li",{children:Object(p.jsxs)("a",{className:"pagination-link",children:["Pg ",h]})})}),h>1?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("a",{className:"pagination-previous",onClick:function(){x(h-1)},children:"-"})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("a",{className:"pagination-previous",disabled:!0,children:"-"})})]}),Object(p.jsx)("h2",{className:"subtitle is-2",children:"Explore the Wellcome Collection"}),_?Object(p.jsxs)("p",{className:"subtitle is-5",children:["'",_,"' returned ",q.totalResults]}):Object(p.jsxs)("p",{className:"subtitle is-5",children:["Browse ",n.totalResults," images"]}),Object(p.jsxs)("form",{className:"columns is-8",children:[Object(p.jsx)("div",{className:"control column",children:Object(p.jsx)("input",{className:"input",onChange:function(e){try{E(e.target.value)}catch(t){console.log(t)}},value:_,placeholder:"Search"})}),Object(p.jsx)("div",{className:"control column is-2 is-offset-2",children:Object(p.jsxs)("select",{onChange:function(e){N(e.target.value)},className:"select",children:[Object(p.jsx)("option",{value:50,children:"50"}),Object(p.jsx)("option",{value:75,children:"75"}),Object(p.jsx)("option",{value:100,children:"100"})]})})]}),I.length>0&&Object(p.jsxs)("div",{children:[Object(p.jsx)("form",{children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){if("new"!==e.target.value){var t=[];X[e.target.value].digital_images.length>0&&(t=X[e.target.value].digital_images.map((function(e){return e.id})));var a=Object(b.a)(Object(b.a)({},X[e.target.value]),{},Object(C.a)({},"digital_images",[].concat(Object(y.a)(t),Object(y.a)(I))));H(a)}},defaultValue:"Choose a scrapbook",children:[Object(p.jsx)("option",{disabled:!0,children:"Choose a scrapbook"}),X.map((function(e,t){return Object(p.jsx)("option",{value:t,children:e.name},e.id)}))]})})}),Object(p.jsx)("button",{className:"button create-scrapbook",onClick:ce,children:"Add"})]})]}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"columns is-multiline results-page",children:_?q.results.map((function(e,t){return Object(p.jsxs)("div",{className:"relative-container",children:[Object(p.jsx)(r.b,{to:"/object/".concat(e.id),children:Object(p.jsx)(z,Object(b.a)(Object(b.a)({},e),{},{size:1,disabled:e.disabled}))}),Object(p.jsx)("button",{className:"absolute-container button is-info is-small is-inverted is-rounded",value:t,onClick:ae,children:"X"})]},e.id)})):n.results.map((function(e,t){return Object(p.jsxs)("div",{className:"relative-container object",children:[Object(p.jsx)(r.b,{to:"/object/".concat(e.id),children:Object(p.jsx)(z,Object(b.a)(Object(b.a)({},e),{},{size:1,disabled:e.disabled}))}),Object(p.jsx)("button",{className:"absolute-container button is-info is-small is-inverted is-rounded",value:t,onClick:te,children:"X"})]},e.id)}))})})]})}):null},B=function(){var e=Object(i.f)(),t=Object(c.useState)({username:"",password:""}),a=Object(u.a)(t,2),s=a[0],n=a[1],r=function(e){var t=Object(b.a)(Object(b.a)({},s),{},Object(C.a)({},e.target.name,e.target.value));n(t)},l=function(){var t=Object(j.a)(o.a.mark((function t(a){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.post("/api/auth/login/",s);case 4:c=t.sent,window.localStorage.setItem("token",c.data.token),e.push("/explore"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.errors);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("section",{className:"section home",children:[Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"columns",children:Object(p.jsxs)("form",{className:"box column is-half is-offset-one-quarter auth-form",onSubmit:l,children:[Object(p.jsx)("div",{children:Object(p.jsx)("h3",{className:"subtitle",children:"Login"})}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Username"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",placeholder:"Username",name:"username",value:s.username,onChange:r})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Password"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",type:"password",placeholder:"Enter your password",name:"password",value:s.password,onChange:r})})]}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("button",{className:"button",type:"submit",children:"Login"})})]})})}),Object(p.jsxs)("div",{className:"background",children:[Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{})]})]})},A=function(){var e=Object(c.useState)({username:"",email:"",password:"",password_confirmation:""}),t=Object(u.a)(e,2),a=t[0],s=t[1],n=function(e){var t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},e.target.name,e.target.value));s(t)},r=Object(c.useState)(null),i=Object(u.a)(r,2),l=i[0],d=i[1],m=Object(c.useState)(null),h=Object(u.a)(m,2),x=h[0],f=h[1],v=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,s,n,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.post("/api/auth/register/",a);case 4:c=e.sent,console.log(c.data),d(!0),e.next=13;break;case 9:for(e.prev=9,e.t0=e.catch(1),console.log(),s=0,n=Object.entries(e.t0.response.data);s<n.length;s++)r=Object(u.a)(n[s],2),i=r[0],l=r[1],console.log(i,l[0]),f("".concat(i," : ").concat(l[0]));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("section",{className:"section",children:[Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"columns",children:Object(p.jsxs)("form",{className:"box column is-half is-offset-one-quarter auth-form",onSubmit:v,children:[Object(p.jsx)("div",{children:Object(p.jsx)("h3",{className:"subtitle",children:"Register"})}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Username"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",placeholder:"Username",name:"username",value:a.username,onChange:n})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Email"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",placeholder:"someone@example.com",name:"email",value:a.email,onChange:n})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Password"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",type:"password",placeholder:"Enter your password",name:"password",value:a.password,onChange:n})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Password confirmation"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input is-medium",type:"password",placeholder:"Confirm your password",name:"password_confirmation",value:a.password_confirmation,onChange:n})})]}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("button",{className:"button",type:"submit",children:"Register"})}),Object(p.jsxs)("div",{children:[x?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"help is-danger",children:"Oh no! There is a problem"}),Object(p.jsx)("p",{className:"help is-danger",children:x})]}):Object(p.jsx)("p",{}),l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"help is-success",children:"Yay! You registered successfully"}),Object(p.jsx)("p",{className:"help is-success",children:"Please log in"})]}):Object(p.jsx)("p",{})]})]})})}),Object(p.jsxs)("div",{className:"background",children:[Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{}),Object(p.jsx)("span",{})]})]})},q=function(){var e=Object(i.f)(),t=Object(c.useState)({name:"",digital_images:[]}),a=Object(u.a)(t,2),s=a[0],n=a[1],r=function(){var t=Object(j.a)(o.a.mark((function t(a){var c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(s),t.prev=2,t.next=5,O.a.post("/api/scrapbooks/",s,{headers:{Authorization:"Bearer ".concat(k())}});case 5:c=t.sent,n=c.data,console.log("Scrapbook",n),e.push("scrapbooks/".concat(n.id)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"create-scrapbook",children:Object(p.jsxs)("form",{onSubmit:r,children:[Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("input",{className:"input",placeholder:"Give your Scrapbook a name",name:"name",value:s.name,onChange:function(e){console.log(s);var t=Object(b.a)(Object(b.a)({},s),{},Object(C.a)({},e.target.name,e.target.value));n(t)}})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("button",{type:"submit",className:"button",children:"Create"})})]})})},D=function(e){var t=e.id,a=e.source,s=e.thumbnail,n=Object(c.useState)([]),i=Object(u.a)(n,2),l=i[0],d=i[1],m=Object(c.useState)(null),h=Object(u.a)(m,2),x=h[0],f=h[1],v=Object(c.useState)(!1),g=Object(u.a)(v,2),N=g[0],w=g[1],S=Object(c.useState)(null),_=Object(u.a)(S,2),z=_[0],E=_[1],B=Object(c.useState)({origin_institution:1,digital_image_id:a.id,catalogue_image_id:t,catalogue_title:a.title,work_type:a.type,iiif_manifest:s.url,tags:[]}),A=Object(u.a)(B,2),D=A[0],P=A[1],F=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=15;break}return e.prev=1,e.next=4,O.a.post("/api/images/",D,{headers:{Authorization:"Bearer ".concat(k())}});case 4:t=e.sent,a=t.data,d(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:e.next=16;break;case 15:console.log("Already exists- skipped",l);case 16:E("is-active");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/scrapbooks/");case 2:t=e.sent,a=t.data,f(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[z]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/images/");case 2:a=e.sent,c=a.data,0===(s=c.filter((function(e){return e.catalogue_image_id===t}))).length?d(null):d.apply(void 0,Object(y.a)(s));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!x)return null;var I=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.put("/api/scrapbooks/".concat(D.id,"/"),D,{headers:{Authorization:"Bearer ".concat(k())}});case 4:a=e.sent,console.log("Success",a),E(null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Scrapbook error",e.t0.response.data),E(null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),M=x.filter((function(e){return e.digital_images.filter((function(e){return e.catalogue_image_id===t})).length>0}));return Object(p.jsxs)("div",{className:"container box",children:[Object(p.jsx)("div",{className:"columns",children:0!==M.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"column subtitle is-5",children:"Scrapbooks "}),M.map((function(e){return Object(p.jsx)(r.b,{to:"/scrapbooks/".concat(e.id),className:"box scrapbook",children:Object(p.jsx)("p",{className:"subtitle is-6",children:e.name})},e.id)}))]}):Object(p.jsx)("p",{children:"Not part of any scrapbooks"})}),Object(p.jsx)("button",{className:"button",onClick:F,children:"+"}),Object(p.jsxs)("div",{className:"modal ".concat(z),children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsx)("div",{className:"modal-card",children:Object(p.jsxs)("div",{className:"columns",children:[Object(p.jsxs)("div",{className:"box column is-half is-offset-one-quarter popup",children:[Object(p.jsx)("p",{className:"subtitle is-4",children:"Add image to a scrapbook"}),Object(p.jsx)("form",{children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){if("new"!==e.target.value){w(!1);var t=[];x[e.target.value].digital_images.length>0&&(t=x[e.target.value].digital_images.map((function(e){return e.id})));var a=Object(b.a)(Object(b.a)({},x[e.target.value]),{},Object(C.a)({},"digital_images",[].concat(Object(y.a)(t),[l.id])));P(a)}else w(!0)},defaultValue:"Choose a scrapbook",children:[Object(p.jsx)("option",{disabled:!0,children:"Choose a scrapbook"}),x.map((function(e,t){return Object(p.jsx)("option",{value:t,children:e.name},e.id)})),Object(p.jsx)("option",{value:"new",children:"New"})]})})}),N?Object(p.jsx)("div",{children:Object(p.jsx)(q,{})}):Object(p.jsx)("p",{}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("button",{className:"button",onClick:I,children:"+"})})]}),Object(p.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){E(null)}})]})})]})]})},P=a(35),F=a.n(P),I=function(e){var t=e.iiifManifestURL,a=Object(c.useState)(null),s=Object(u.a)(a,2),n=s[0],r=s[1];Object(c.useEffect)((function(){return i(),function(){n&&n.destroy()}}),[]);var i=function(){n&&n.destroy(),r(F()({id:"openSeaDragon",preserveViewport:!0,animationTime:.5,zoomPerScroll:2,visibilityRatio:.5,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",fullPageButton:"full-page",showNavigator:!0,tileSources:t}))};return Object(p.jsxs)("section",{children:[Object(p.jsx)("div",{className:"columns",children:Object(p.jsxs)("div",{className:"column",children:[Object(p.jsx)("a",{className:"button",id:"full-page",href:"#full-page",title:"Zoom in",children:"Full page"}),Object(p.jsx)("a",{className:"button",id:"zoom-in",href:"#zoom-in",title:"Zoom in",children:"+"}),Object(p.jsx)("a",{className:"button",id:"zoom-out",href:"#zoom-out",title:"Zoom in",children:"-"})]})}),Object(p.jsx)("div",{id:"openSeaDragon",style:{height:"700px",width:"1200px"}})]})},M=function(){var e=Object(i.h)().id,t=Object(c.useState)(null),a=Object(u.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){(function(){var t=Object(j.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("https://api.wellcomecollection.org/catalogue/v2/images/".concat(e,"/"));case 2:a=t.sent,c=a.data,n(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),s?Object(p.jsx)("section",{className:"section objects",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"box",children:Object(p.jsxs)("div",{className:"columns",children:[Object(p.jsx)("div",{className:"column is-8",children:Object(p.jsx)("h2",{className:"subtitle is-3",children:s.source.title})}),Object(p.jsx)("div",{className:"column is-4",children:Object(p.jsx)(D,Object(b.a)({},s))})]})}),Object(p.jsx)("div",{className:"box",children:Object(p.jsx)(I,{iiifManifestURL:s.thumbnail.url})})]})}):null},R=function(e){var t=e.imageInfo,a=e.size,s=Object(c.useState)(null),n=Object(u.a)(s,2),r=n[0],i=n[1];if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(t.iiif_manifest));case 2:a=e.sent,c=a.data,i(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!r)return null;var l=r["@id"],b=r.sizes[a].height,d=r.sizes[a].width,m=r.profile[1].formats,h="".concat(l,"/square/").concat(d,",").concat(b,"/0/default.").concat(m);return Object(p.jsx)("section",{children:Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:h})})})},L=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),i=Object(u.a)(n,2),l=i[0],d=i[1],m=Object(c.useState)({id:"",digital_images:[],name:""}),h=Object(u.a)(m,2),x=h[0],f=h[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("api/scrapbooks/");case 2:t=e.sent,a=t.data,s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(e){if(l)d(null);else{var t=a.filter((function(t){return t.name===e.target.value}));f(Object(b.a)({},t[0])),d("is-active")}};return a?Object(p.jsx)("section",{className:"section scrapbooks",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{className:"subtitle is-2",children:"Scrapbooks"}),Object(p.jsx)("div",{className:"box",children:Object(p.jsx)(q,{})}),Object(p.jsx)("div",{className:"columns is-multiline",children:a.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"box column relative-container",children:[Object(p.jsx)("h4",{className:"subtitle is-4",children:e.name}),Object(p.jsxs)("p",{className:"subtitle is-6",children:["Created by: ",e.creator.username]}),e.digital_images.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R,{imageInfo:e.digital_images[Math.floor(Math.random()*e.digital_images.length)],size:1}),Object(p.jsxs)("div",{className:"modal ".concat(l),children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsxs)("div",{className:"modal-card",children:[Object(p.jsx)("p",{className:"subtitle is-4",children:x.name}),Object(p.jsx)(r.b,{to:"/scrapbooks/".concat(x.id),children:Object(p.jsxs)("button",{className:"button",children:["Go to ",x.name]})}),Object(p.jsx)("div",{className:"columns is-multiline",children:x.digital_images.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"column",children:Object(p.jsx)(R,{imageInfo:e,size:2})})},e.id)}))}),Object(p.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:v})]})]})]}):Object(p.jsx)("p",{children:"No images added yet..."}),Object(p.jsxs)("button",{className:"button",onClick:v,value:e.name,children:[e.digital_images.length," images"]})]})},e.id)}))})]})}):null},T=function(e){var t=e.searchTerm,a=Object(c.useState)(null),s=Object(u.a)(a,2),n=s[0],i=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat("https://api.wellcomecollection.org/catalogue/v2/","images?pageSize=5&page=1&query=").concat(t,"/"));case 2:a=e.sent,c=a.data,i(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),n?Object(p.jsxs)("div",{className:"box search-preview",children:[Object(p.jsxs)("h4",{className:"subtitle is-3",children:["Preview results for ",t]}),Object(p.jsx)("div",{className:"columns is-multiline",children:n.results.map((function(e){return Object(p.jsx)("div",{className:"column",children:Object(p.jsx)(z,Object(b.a)(Object(b.a)({},e),{},{size:2}))},e.id)}))}),Object(p.jsx)(r.b,{to:"/search#".concat(t),children:"See full results here"})]}):null},U=function(){var e=Object(i.f)(),t=Object(c.useState)({name:"",creator:{},digital_images:[]}),a=Object(u.a)(t,2),s=a[0],n=a[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),m=d[0],h=d[1],x=Object(c.useState)(""),v=Object(u.a)(x,2),N=v[0],k=v[1],w=Object(c.useState)(null),S=Object(u.a)(w,2),_=S[0],y=S[1],z=Object(c.useState)({name:s.name}),E=Object(u.a)(z,2),B=E[0],A=E[1],q=Object(c.useState)(!1),D=Object(u.a)(q,2),P=D[0],F=D[1],I=Object(i.h)().id;Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/scrapbooks/".concat(I,"/"));case 2:t=e.sent,a=t.data,n(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P]);var M=function(e){h(e.target.value),e.target.value||k(!1)},L=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.put("/api/scrapbooks/".concat(I,"/"),B,{headers:{Authorization:"Bearer ".concat(f())}});case 4:a=e.sent,c=a.data,console.log(c),F(!P),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){k(m),y("is-active")}),[m]);var U=function(){var t=Object(j.a)(o.a.mark((function t(a){var c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.delete("/api/scrapbooks/".concat(I,"/"),{headers:{Authorization:"Bearer ".concat(f())}});case 4:c=t.sent,s=c.data,console.log(s),e.push("/scrapbooks"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return s?Object(p.jsx)("section",{className:"section scrapbooks",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"box",children:[P?Object(p.jsx)("div",{className:"columns",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("form",{onSubmit:L,children:[Object(p.jsx)("div",{className:"column is-8",children:Object(p.jsx)("input",{className:"is-medium input",value:B.name,name:"name",onChange:function(e){var t=Object(b.a)(Object(b.a)({},B),{},Object(C.a)({},e.target.name,e.target.value));A(t)},placeholder:s.name})}),Object(p.jsx)("div",{className:"column is-2",children:Object(p.jsx)("button",{className:"button",children:"+"})})]})})}):Object(p.jsx)("h2",{className:"subtitle is-2",children:s.name}),Object(p.jsxs)("h3",{className:"subtitle",children:["by ",s.creator.username," "]}),g(s.creator.id)&&Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"button",onClick:function(){F(!P)},children:"Edit"}),Object(p.jsx)("button",{className:"button",onClick:U,children:"Delete"})]}),Object(p.jsxs)("div",{className:"field search-box",children:[Object(p.jsx)("form",{className:"is-quarter",children:Object(p.jsx)("input",{className:"input",value:m,onChange:M,placeholder:"Enter search term to find more images..."})}),N?Object(p.jsxs)("div",{className:"modal ".concat(_),children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsxs)("div",{className:"modal-card",children:[Object(p.jsx)("input",{className:"input",value:m,onChange:M}),Object(p.jsx)(T,{className:"box",searchTerm:N})]}),Object(p.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){console.log("Click"),y(null)}})]}):Object(p.jsx)("p",{})]})]}),Object(p.jsx)("div",{className:"columns is-multiline results-page",children:s.digital_images.length>0?s.digital_images.map((function(e){return Object(p.jsx)("div",{className:"box relative-container object",children:Object(p.jsx)(r.b,{to:"/object/".concat(e.catalogue_image_id),children:Object(p.jsx)(R,{imageInfo:e,size:1})})},e.id)})):Object(p.jsx)("p",{children:"No images"})})]})}):null},V=function(){var e=Object(i.g)().hash.replace("#",""),t=Object(c.useState)(null),a=Object(u.a)(t,2),s=a[0],n=a[1],l=Object(c.useState)(1),d=Object(u.a)(l,2),m=d[0],h=d[1],x=Object(c.useState)({}),f=Object(u.a)(x,2),v=f[0],g=f[1],N=Object(c.useState)(!1),w=Object(u.a)(N,2),S=w[0],_=w[1],E=Object(c.useState)([]),B=Object(u.a)(E,2),A=B[0],q=B[1],D=Object(c.useState)({}),P=Object(u.a)(D,2),F=P[0],I=P[1],M=Object(c.useState)(null),R=Object(u.a)(M,2),L=R[0],T=R[1];Object(c.useEffect)((function(){(function(){var t=Object(j.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("".concat("https://api.wellcomecollection.org/catalogue/v2/","images?pageSize=").concat(100,"&page=").concat(m,"&query=").concat(e,"/"));case 2:a=t.sent,c=a.data,n(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[m]);var U=function(e){var t,a=s.results[e.target.value],c={origin_institution:1,digital_image_id:a.source.id,catalogue_image_id:a.id,catalogue_title:a.source.title,work_type:a.source.type,iiif_manifest:a.thumbnail.url,tags:[]};a.disabled?(t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!1)),s.results[e.target.value]=t):(g(Object(b.a)({},c)),t=Object(b.a)(Object(b.a)({},a),{},Object(C.a)({},"disabled",!0))),s.results[e.target.value]=t,_(!S)};Object(c.useEffect)(Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/images/",v,{headers:{Authorization:"Bearer ".concat(k())}});case 3:t=e.sent,a=t.data,q([].concat(Object(y.a)(A),[a.id])),console.log(A),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.request);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[v]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/scrapbooks/");case 2:t=e.sent,a=t.data,T(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var V=function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.put("/api/scrapbooks/".concat(F.id,"/"),F,{headers:{Authorization:"Bearer ".concat(k())}});case 4:a=e.sent,console.log("Success",a),q([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Scrapbook error",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return s?Object(p.jsx)("section",{className:"section institution",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"box sticky-header",children:[Object(p.jsxs)("h2",{className:"subtitle is-3",children:["You searched for ",e]}),Object(p.jsxs)("h3",{className:"subtitle",children:["There are ",s.totalResults," results on ",s.totalPages," pages"]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{className:"pagination is-left",role:"navigation","aria-label":"pagination",children:[Object(p.jsx)("a",{className:"pagination-next",onClick:function(){h(m+1)},children:"+"}),Object(p.jsx)("ul",{className:"pagination-list",children:Object(p.jsx)("li",{children:Object(p.jsxs)("a",{className:"pagination-link",children:["Pg ",m]})})}),m>1?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("a",{className:"pagination-previous",onClick:function(){h(m-1)},children:"-"})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("a",{className:"pagination-previous",disabled:!0,children:"-"})})]}),A.length>0&&Object(p.jsxs)("div",{children:[Object(p.jsx)("form",{children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){if("new"!==e.target.value){var t=[];L[e.target.value].digital_images.length>0&&(t=L[e.target.value].digital_images.map((function(e){return e.id})));var a=Object(b.a)(Object(b.a)({},L[e.target.value]),{},Object(C.a)({},"digital_images",[].concat(Object(y.a)(t),Object(y.a)(A))));I(a)}},defaultValue:"Choose a scrapbook",children:[Object(p.jsx)("option",{disabled:!0,children:"Choose a scrapbook"}),L.map((function(e,t){return Object(p.jsx)("option",{value:t,children:e.name},e.id)}))]})})}),Object(p.jsx)("button",{className:"button",onClick:V,children:"Add"})]})]})]}),Object(p.jsx)("section",{children:Object(p.jsx)("div",{className:"columns is-multiline results-page",children:s.results.map((function(e,t){return Object(p.jsxs)("div",{className:"relative-container object",children:[Object(p.jsx)(r.b,{to:"/object/".concat(e.id),children:Object(p.jsx)(z,Object(b.a)(Object(b.a)({},e),{},{size:1,disabled:e.disabled}))}),Object(p.jsx)("button",{className:"absolute-container button is-info is-small is-inverted",value:t,onClick:U,children:"X"})]},e.id)}))})})]})}):null},J=function(){return Object(p.jsx)("div",{className:"has-navbar-fixed-top",children:Object(p.jsxs)(r.a,{children:[Object(p.jsx)(w,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/explore",children:Object(p.jsx)(_,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/search",children:Object(p.jsx)(V,{})}),Object(p.jsx)(i.a,{path:"/login",children:Object(p.jsx)(B,{})}),Object(p.jsx)(i.a,{path:"/register",children:Object(p.jsx)(A,{})}),Object(p.jsx)(i.a,{path:"/explore/:id",children:Object(p.jsx)(E,{})}),Object(p.jsx)(i.a,{path:"/object/:id",children:Object(p.jsx)(M,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/scrapbooks",children:Object(p.jsx)(L,{})}),Object(p.jsx)(i.a,{path:"/scrapbooks/:id",children:Object(p.jsx)(U,{})})]})]})})};n.a.render(Object(p.jsx)(J,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.cdbb94ce.chunk.js.map